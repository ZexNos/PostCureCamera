# Post-Cure Camera — Documentation

Этот репозиторий содержит техническую документацию проекта **Post-Cure Camera** — компактной UV-камеры для пост-обработки фотополимерной печати и сушки филамента.  

Документы собраны из исходных черновиков в компактный набор файлов, предназначенных в первую очередь как опора для разработки прошивки и настройки устройства.

---

## Структура документации

### 00_OVERVIEW_AND_INDEX.md

Точка входа:

- краткое описание проекта и целей устройства;
- навигационный индекс по остальным документам;
- базовые обозначения.

### 01_SPEC_MASTER.md

Главная спецификация устройства:

- целевая конфигурация камеры;
- требования к подсистемам (дисплей, энкодер, нагрев, вентиляторы, UV-зоны);
- поведение режимов **CURE/DRY/PURGE/FINISH/ERROR**;
- модель состояний (FSM) и общая логика работы;
- политика безопасности (OverTemp, SensorFault, DoorOpen, PURGE);
- описание MQTT как **канала телеметрии** (без команд и OTA).

### 02_ARCHITECTURE_AND_WIRING.md

Архитектура и проводка:

- Modular Map логических подсистем;
- связь между модулями прошивки;
- общая схема подключения контроллера, датчиков, нагревателя, вентиляторов и UV-модулей;
- принципы разнесения силовой и сигнальной части.

### 03_UI_STYLE_AND_FLOW.md

Стиль и организация интерфейса:

- цветовая схема и базовая типографика;
- структура ключевых экранов (RUN VIEW, OPTIONS, ERROR, и т.д.);
- правила отображения статуса системы;
- общие принципы навигации и использования энкодера;
- требования к визуальной стабильности (частичная перерисовка, без мерцаний).

### 04_NETWORK_BUILD_AND_DEV_INFRA.md

Инфраструктурные компоненты:

- основные BuildFlags и режимы сборки;
- Wi-Fi onboarding и базовая конфигурация сети;
- **MQTT-подсистема в режиме “telemetry-only”**:
  - какие топики используются;
  - структура JSON-пакета состояния (state, temp_main, heater_pwm, heater_corr);
  - частота публикации телеметрии для настройки PID;
- перечень «защищённых» файлов, которые не должны ломаться при экспериментах;
- базовые freeze-тесты для проверки стабильности сборки.

### 05_PRESETS_SAFETY_AND_UVLOCK.md

Логика режимов и безопасность:

- набор стартовых пресетов CURE и DRY;
- политика **UVLOCK** (UV полностью запрещён в DRY-режимах);
- ограничения нагрева по типам материалов;
- поведение системы безопасности:
  - OverTemp (жёсткое отключение и продувка),
  - DoorOpen (пауза и продолжение по подтверждению),
  - SensorFault (остановка, мягкая продувка, блокировка пресетов),
  - режим PURGE (продувка/остужение после CURE/DRY/ERROR);
- общие принципы индикации ошибок и статуса.

### 06_BOM.md

Спецификация компонентов:

- список основных модулей (контроллер, датчики, нагреватель, вентиляторы, UV-модули и т.д.);
- обозначения и совместимость;
- пометки по ревизиям и возможным заменам.

### 99_STAGE_SUMMARIES.md

Архивные сводки по этапам разработки:

- Stage A — Display + Encoder;
- Stage B — Wi-Fi Subsystem;
- дальнейшие этапы могут добавляться по мере развития проекта.

---

## Принципы организации документов

1. Каждый файл описывает отдельный аспект системы и может читаться изолированно.
2. Перекрытия между файлами минимизированы: подробные требования вынесены в `01_SPEC_MASTER.md`, уточнения по подсистемам — в профильные документы.
3. Документация расширяема: при появлении новых подсистем возможно добавление новых файлов того же уровня (07_…, 08_… и т.д.).
4. Репозиторий служит источником «единой правды» о проекте: при расхождении кода и документации именно docs считаются референсом.

---

## Назначение репозитория

Документация используется как:

- инженерная спецификация для разработки прошивки;
- опорный документ для наладки PID и логики нагрева/вентиляции;
- референс по UI/UX-поведению;
- карта всех подсистем устройства;
- исторический журнал развития проекта.

---

## Как пользоваться

1. Для общего понимания проекта — начните с `00_OVERVIEW_AND_INDEX.md`.
2. Для инженерных требований и поведения устройства — `01_SPEC_MASTER.md`.
3. Для понимания структуры и проводки — `02_ARCHITECTURE_AND_WIRING.md`.
4. Для реализации интерфейса — `03_UI_STYLE_AND_FLOW.md`.
5. Для сетевой части, сборки и MQTT-телеметрии — `04_NETWORK_BUILD_AND_DEV_INFRA.md`.
6. Для пресетов, безопасности и UVLOCK-логики — `05_PRESETS_SAFETY_AND_UVLOCK.md`.
7. Для аппаратных изменений и закупок — `06_BOM.md`.
8. Для контекста по стадиям разработки — `99_STAGE_SUMMARIES.md`.

---

## Статус

Документация обновляется по мере развития проекта **Post-Cure Camera** и отражает актуальную архитектуру:  

- управление осуществляется **только локально (через UI)**;  
- MQTT используется **только для телеметрии и логов**, без удалённого управления и OTA.  
